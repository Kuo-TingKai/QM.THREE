import{E as Ge,V as c,M as I,T as R,S as Me,Q as Te,a as g,R as Xe,P as Ue,b as Ze,c as qe,d as Ve,W as Qe,C as $e,e as Je,A as et,D as tt,L as nt,B as X,f as U,g as ee,h as te,i as ne}from"./three-DTRIzpL-.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&e(u)}).observe(document,{childList:!0,subtree:!0});function m(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(n){if(n.ep)return;n.ep=!0;const o=m(n);fetch(n.href,o)}})();const Le={type:"change"},oe={type:"start"},Oe={type:"end"},Z=new Xe,xe=new Ue,ot=Math.cos(70*Ze.DEG2RAD);class at extends Ge{constructor(i,m){super(),this.object=i,this.domElement=m,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new c,this.cursor=new c,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:I.ROTATE,MIDDLE:I.DOLLY,RIGHT:I.PAN},this.touches={ONE:R.ROTATE,TWO:R.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return r.phi},this.getAzimuthalAngle=function(){return r.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",$),this._domElementKeyEvents=t},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",$),this._domElementKeyEvents=null},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(Le),e.update(),o=n.NONE},this.update=function(){const t=new c,a=new Te().setFromUnitVectors(i.up,new c(0,1,0)),l=a.clone().invert(),d=new c,b=new Te,j=new c,D=2*Math.PI;return function(Ke=null){const Pe=e.object.position;t.copy(Pe).sub(e.target),t.applyQuaternion(a),r.setFromVector3(t),e.autoRotate&&o===n.NONE&&v(Se(Ke)),e.enableDamping?(r.theta+=h.theta*e.dampingFactor,r.phi+=h.phi*e.dampingFactor):(r.theta+=h.theta,r.phi+=h.phi);let L=e.minAzimuthAngle,O=e.maxAzimuthAngle;isFinite(L)&&isFinite(O)&&(L<-Math.PI?L+=D:L>Math.PI&&(L-=D),O<-Math.PI?O+=D:O>Math.PI&&(O-=D),L<=O?r.theta=Math.max(L,Math.min(O,r.theta)):r.theta=r.theta>(L+O)/2?Math.max(L,r.theta):Math.min(O,r.theta)),r.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,r.phi)),r.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(f,e.dampingFactor):e.target.add(f),e.target.sub(e.cursor),e.target.clampLength(e.minTargetRadius,e.maxTargetRadius),e.target.add(e.cursor),e.zoomToCursor&&H||e.object.isOrthographicCamera?r.radius=V(r.radius):r.radius=V(r.radius*p),t.setFromSpherical(r),t.applyQuaternion(l),Pe.copy(e.target).add(t),e.object.lookAt(e.target),e.enableDamping===!0?(h.theta*=1-e.dampingFactor,h.phi*=1-e.dampingFactor,f.multiplyScalar(1-e.dampingFactor)):(h.set(0,0,0),f.set(0,0,0));let K=!1;if(e.zoomToCursor&&H){let Y=null;if(e.object.isPerspectiveCamera){const F=t.length();Y=V(F*p);const G=F-Y;e.object.position.addScaledVector(ae,G),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const F=new c(S.x,S.y,0);F.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/p)),e.object.updateProjectionMatrix(),K=!0;const G=new c(S.x,S.y,0);G.unproject(e.object),e.object.position.sub(G).add(F),e.object.updateMatrixWorld(),Y=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;Y!==null&&(this.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(Y).add(e.object.position):(Z.origin.copy(e.object.position),Z.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(Z.direction))<ot?i.lookAt(e.target):(xe.setFromNormalAndCoplanarPoint(e.object.up,e.target),Z.intersectPlane(xe,e.target))))}else e.object.isOrthographicCamera&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/p)),e.object.updateProjectionMatrix(),K=!0);return p=1,H=!1,K||d.distanceToSquared(e.object.position)>u||8*(1-b.dot(e.object.quaternion))>u||j.distanceToSquared(e.target)>0?(e.dispatchEvent(Le),d.copy(e.object.position),b.copy(e.object.quaternion),j.copy(e.target),K=!1,!0):!1}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",Ee),e.domElement.removeEventListener("pointerdown",ye),e.domElement.removeEventListener("pointercancel",z),e.domElement.removeEventListener("wheel",ge),e.domElement.removeEventListener("pointermove",Q),e.domElement.removeEventListener("pointerup",z),e._domElementKeyEvents!==null&&(e._domElementKeyEvents.removeEventListener("keydown",$),e._domElementKeyEvents=null)};const e=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=n.NONE;const u=1e-6,r=new Me,h=new Me;let p=1;const f=new c,y=new g,M=new g,x=new g,T=new g,E=new g,w=new g,P=new g,N=new g,k=new g,ae=new c,S=new g;let H=!1;const s=[],_={};function Se(t){return t!==null?2*Math.PI/60*e.autoRotateSpeed*t:2*Math.PI/60/60*e.autoRotateSpeed}function B(){return Math.pow(.95,e.zoomSpeed)}function v(t){h.theta-=t}function W(t){h.phi-=t}const ie=function(){const t=new c;return function(l,d){t.setFromMatrixColumn(d,0),t.multiplyScalar(-l),f.add(t)}}(),se=function(){const t=new c;return function(l,d){e.screenSpacePanning===!0?t.setFromMatrixColumn(d,1):(t.setFromMatrixColumn(d,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(l),f.add(t)}}(),A=function(){const t=new c;return function(l,d){const b=e.domElement;if(e.object.isPerspectiveCamera){const j=e.object.position;t.copy(j).sub(e.target);let D=t.length();D*=Math.tan(e.object.fov/2*Math.PI/180),ie(2*l*D/b.clientHeight,e.object.matrix),se(2*d*D/b.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(ie(l*(e.object.right-e.object.left)/e.object.zoom/b.clientWidth,e.object.matrix),se(d*(e.object.top-e.object.bottom)/e.object.zoom/b.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function q(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?p/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function re(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?p*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function ce(t){if(!e.zoomToCursor)return;H=!0;const a=e.domElement.getBoundingClientRect(),l=t.clientX-a.left,d=t.clientY-a.top,b=a.width,j=a.height;S.x=l/b*2-1,S.y=-(d/j)*2+1,ae.set(S.x,S.y,1).unproject(e.object).sub(e.object.position).normalize()}function V(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function le(t){y.set(t.clientX,t.clientY)}function De(t){ce(t),P.set(t.clientX,t.clientY)}function ue(t){T.set(t.clientX,t.clientY)}function Ne(t){M.set(t.clientX,t.clientY),x.subVectors(M,y).multiplyScalar(e.rotateSpeed);const a=e.domElement;v(2*Math.PI*x.x/a.clientHeight),W(2*Math.PI*x.y/a.clientHeight),y.copy(M),e.update()}function Ae(t){N.set(t.clientX,t.clientY),k.subVectors(N,P),k.y>0?q(B()):k.y<0&&re(B()),P.copy(N),e.update()}function je(t){E.set(t.clientX,t.clientY),w.subVectors(E,T).multiplyScalar(e.panSpeed),A(w.x,w.y),T.copy(E),e.update()}function Ie(t){ce(t),t.deltaY<0?re(B()):t.deltaY>0&&q(B()),e.update()}function Re(t){let a=!1;switch(t.code){case e.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?W(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):A(0,e.keyPanSpeed),a=!0;break;case e.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?W(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):A(0,-e.keyPanSpeed),a=!0;break;case e.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?v(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):A(e.keyPanSpeed,0),a=!0;break;case e.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?v(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):A(-e.keyPanSpeed,0),a=!0;break}a&&(t.preventDefault(),e.update())}function de(){if(s.length===1)y.set(s[0].pageX,s[0].pageY);else{const t=.5*(s[0].pageX+s[1].pageX),a=.5*(s[0].pageY+s[1].pageY);y.set(t,a)}}function me(){if(s.length===1)T.set(s[0].pageX,s[0].pageY);else{const t=.5*(s[0].pageX+s[1].pageX),a=.5*(s[0].pageY+s[1].pageY);T.set(t,a)}}function he(){const t=s[0].pageX-s[1].pageX,a=s[0].pageY-s[1].pageY,l=Math.sqrt(t*t+a*a);P.set(0,l)}function Ce(){e.enableZoom&&he(),e.enablePan&&me()}function ke(){e.enableZoom&&he(),e.enableRotate&&de()}function pe(t){if(s.length==1)M.set(t.pageX,t.pageY);else{const l=J(t),d=.5*(t.pageX+l.x),b=.5*(t.pageY+l.y);M.set(d,b)}x.subVectors(M,y).multiplyScalar(e.rotateSpeed);const a=e.domElement;v(2*Math.PI*x.x/a.clientHeight),W(2*Math.PI*x.y/a.clientHeight),y.copy(M)}function fe(t){if(s.length===1)E.set(t.pageX,t.pageY);else{const a=J(t),l=.5*(t.pageX+a.x),d=.5*(t.pageY+a.y);E.set(l,d)}w.subVectors(E,T).multiplyScalar(e.panSpeed),A(w.x,w.y),T.copy(E)}function be(t){const a=J(t),l=t.pageX-a.x,d=t.pageY-a.y,b=Math.sqrt(l*l+d*d);N.set(0,b),k.set(0,Math.pow(N.y/P.y,e.zoomSpeed)),q(k.y),P.copy(N)}function ve(t){e.enableZoom&&be(t),e.enablePan&&fe(t)}function ze(t){e.enableZoom&&be(t),e.enableRotate&&pe(t)}function ye(t){e.enabled!==!1&&(s.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",Q),e.domElement.addEventListener("pointerup",z)),Be(t),t.pointerType==="touch"?He(t):Ye(t))}function Q(t){e.enabled!==!1&&(t.pointerType==="touch"?_e(t):Fe(t))}function z(t){We(t),s.length===0&&(e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",Q),e.domElement.removeEventListener("pointerup",z)),e.dispatchEvent(Oe),o=n.NONE}function Ye(t){let a;switch(t.button){case 0:a=e.mouseButtons.LEFT;break;case 1:a=e.mouseButtons.MIDDLE;break;case 2:a=e.mouseButtons.RIGHT;break;default:a=-1}switch(a){case I.DOLLY:if(e.enableZoom===!1)return;De(t),o=n.DOLLY;break;case I.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;ue(t),o=n.PAN}else{if(e.enableRotate===!1)return;le(t),o=n.ROTATE}break;case I.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;le(t),o=n.ROTATE}else{if(e.enablePan===!1)return;ue(t),o=n.PAN}break;default:o=n.NONE}o!==n.NONE&&e.dispatchEvent(oe)}function Fe(t){switch(o){case n.ROTATE:if(e.enableRotate===!1)return;Ne(t);break;case n.DOLLY:if(e.enableZoom===!1)return;Ae(t);break;case n.PAN:if(e.enablePan===!1)return;je(t);break}}function ge(t){e.enabled===!1||e.enableZoom===!1||o!==n.NONE||(t.preventDefault(),e.dispatchEvent(oe),Ie(t),e.dispatchEvent(Oe))}function $(t){e.enabled===!1||e.enablePan===!1||Re(t)}function He(t){switch(we(t),s.length){case 1:switch(e.touches.ONE){case R.ROTATE:if(e.enableRotate===!1)return;de(),o=n.TOUCH_ROTATE;break;case R.PAN:if(e.enablePan===!1)return;me(),o=n.TOUCH_PAN;break;default:o=n.NONE}break;case 2:switch(e.touches.TWO){case R.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ce(),o=n.TOUCH_DOLLY_PAN;break;case R.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;ke(),o=n.TOUCH_DOLLY_ROTATE;break;default:o=n.NONE}break;default:o=n.NONE}o!==n.NONE&&e.dispatchEvent(oe)}function _e(t){switch(we(t),o){case n.TOUCH_ROTATE:if(e.enableRotate===!1)return;pe(t),e.update();break;case n.TOUCH_PAN:if(e.enablePan===!1)return;fe(t),e.update();break;case n.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;ve(t),e.update();break;case n.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;ze(t),e.update();break;default:o=n.NONE}}function Ee(t){e.enabled!==!1&&t.preventDefault()}function Be(t){s.push(t)}function We(t){delete _[t.pointerId];for(let a=0;a<s.length;a++)if(s[a].pointerId==t.pointerId){s.splice(a,1);return}}function we(t){let a=_[t.pointerId];a===void 0&&(a=new g,_[t.pointerId]=a),a.set(t.pageX,t.pageY)}function J(t){const a=t.pointerId===s[0].pointerId?s[1]:s[0];return _[a.pointerId]}e.domElement.addEventListener("contextmenu",Ee),e.domElement.addEventListener("pointerdown",ye),e.domElement.addEventListener("pointercancel",z),e.domElement.addEventListener("wheel",ge,{passive:!1}),this.update()}}class it{constructor(){this.scene=new qe,this.camera=new Ve(75,window.innerWidth/window.innerHeight,.1,1e3);let i;try{i=new Qe({antialias:!0,alpha:!1})}catch(m){console.error("WebGL initialization failed:",m),this.showWebGLError();return}this.renderer=i,this.clock=new $e,this.controls=null,this.time=0,this.timeSpeed=1,this.isPaused=!1,this.quantumNumberX=1,this.quantumNumberY=1,this.displayMode="all",this.points=[],this.lines={real:null,imaginary:null,probability:null},this.init(),this.setupControls(),this.animate()}showWebGLError(){const i=document.createElement("div");i.style.cssText=`
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 0, 0, 0.9);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            z-index: 1000;
            font-family: 'Orbitron', monospace;
        `,i.innerHTML=`
            <h3>WebGL Error</h3>
            <p>Your browser or environment doesn't support WebGL.</p>
            <p>Try using a different browser or device.</p>
        `,document.body.appendChild(i)}init(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(1118481),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=Je,document.body.appendChild(this.renderer.domElement),this.camera.position.set(0,0,3),this.camera.lookAt(0,0,0),this.controls=new at(this.camera,this.renderer.domElement),this.controls.enableDamping=!0,this.controls.dampingFactor=.05,this.controls.screenSpacePanning=!1,this.controls.minDistance=1,this.controls.maxDistance=10,this.controls.maxPolarAngle=Math.PI,this.setupScene(),this.createWaveFunction(),window.addEventListener("resize",()=>this.onWindowResize()),console.log("QuantumVisualizer initialized successfully")}setupScene(){const i=new et(4210752,.8);this.scene.add(i);const m=new tt(16777215,1);m.position.set(1,1,1),this.scene.add(m);const e=new nt({color:8947848,linewidth:3}),n=new X().setFromPoints([new c(-1,-1,0),new c(-1,1,0)]),o=new U(n,e);this.scene.add(o);const u=new X().setFromPoints([new c(1,-1,0),new c(1,1,0)]),r=new U(u,e);this.scene.add(r);const h=new X().setFromPoints([new c(-1,1,0),new c(1,1,0)]),p=new U(h,e);this.scene.add(p);const f=new X().setFromPoints([new c(-1,-1,0),new c(1,-1,0)]),y=new U(f,e);this.scene.add(y)}calculateWaveFunction(i,m,e,n,o){const u=e*.1,h=n*n+o*o,p=Math.cos(h*u),f=Math.sin(h*u),y=(i+1)/2,M=(m+1)/2,x=Math.sin(n*Math.PI*y),T=Math.sin(o*Math.PI*M),E=2*x*T,w=E*p,P=-E*f;return{real:w,imaginary:P,probability:w*w+P*P}}createWaveFunction(){this.lines.real&&this.scene.remove(this.lines.real),this.lines.imaginary&&this.scene.remove(this.lines.imaginary),this.lines.probability&&this.scene.remove(this.lines.probability);const i=50,m=.3,e=new ee(2,2,i-1,i-1),n=new te({color:16737894,transparent:!0,opacity:.7,wireframe:!0}),o=new ee(2,2,i-1,i-1),u=new te({color:6711039,transparent:!0,opacity:.7,wireframe:!0}),r=new ee(2,2,i-1,i-1),h=new te({color:6750054,transparent:!0,opacity:.8,wireframe:!1});this.updateSurfaceGeometry(e,"real",m,i),this.updateSurfaceGeometry(o,"imaginary",m,i),this.updateSurfaceGeometry(r,"probability",m,i),this.lines.real=new ne(e,n),this.lines.imaginary=new ne(o,u),this.lines.probability=new ne(r,h),this.lines.real.position.set(0,0,.1),this.lines.imaginary.position.set(0,0,-.1),this.lines.probability.position.set(0,0,0),this.updateDisplayMode()}updateSurfaceGeometry(i,m,e,n){const o=i.attributes.position.array;for(let u=0;u<o.length;u+=3){const r=o[u],h=o[u+1],p=this.calculateWaveFunction(r,h,this.time,this.quantumNumberX,this.quantumNumberY);let f=0;switch(m){case"real":f=p.real*e;break;case"imaginary":f=p.imaginary*e;break;case"probability":f=p.probability*e;break}o[u+2]=f}i.attributes.position.needsUpdate=!0,i.computeVertexNormals()}updateDisplayMode(){switch(this.scene.remove(this.lines.real),this.scene.remove(this.lines.imaginary),this.scene.remove(this.lines.probability),this.displayMode){case"all":this.scene.add(this.lines.real),this.scene.add(this.lines.imaginary),this.scene.add(this.lines.probability);break;case"real":this.scene.add(this.lines.real);break;case"imaginary":this.scene.add(this.lines.imaginary);break;case"probability":this.scene.add(this.lines.probability);break}}setupControls(){document.getElementById("quantumNumberX").addEventListener("change",o=>{this.quantumNumberX=parseInt(o.target.value),document.getElementById("currentNx").textContent=this.quantumNumberX,this.createWaveFunction()}),document.getElementById("quantumNumberY").addEventListener("change",o=>{this.quantumNumberY=parseInt(o.target.value),document.getElementById("currentNy").textContent=this.quantumNumberY,this.createWaveFunction()});const i=document.getElementById("timeSpeed"),m=document.getElementById("speedValue");i.addEventListener("input",o=>{this.timeSpeed=parseFloat(o.target.value),m.textContent=this.timeSpeed.toFixed(1)});const e=document.getElementById("pauseBtn"),n=document.querySelector(".status-indicator");e.addEventListener("click",()=>{this.isPaused=!this.isPaused,e.textContent=this.isPaused?"Resume":"Pause",this.isPaused?(n.className="status-indicator status-paused",n.parentElement.innerHTML='<span class="status-indicator status-paused"></span><strong>System Status:</strong> Paused'):(n.className="status-indicator status-active",n.parentElement.innerHTML='<span class="status-indicator status-active"></span><strong>System Status:</strong> Running')}),document.getElementById("resetBtn").addEventListener("click",()=>{this.time=0,this.createWaveFunction()}),document.getElementById("displayMode").addEventListener("change",o=>{this.displayMode=o.target.value,this.updateDisplayMode()})}animate(){if(requestAnimationFrame(()=>this.animate()),!this.isPaused){const i=this.clock.getDelta();this.time+=i*this.timeSpeed,document.getElementById("time").textContent=this.time.toFixed(2),this.createWaveFunction()}this.controls&&this.controls.update(),this.renderer.render(this.scene,this.camera)}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}window.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, initializing QuantumVisualizer...");try{new it}catch(C){console.error("Failed to initialize QuantumVisualizer:",C);const i=document.createElement("div");i.style.cssText=`
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 0, 0, 0.9);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            z-index: 1000;
            font-family: 'Orbitron', monospace;
        `,i.innerHTML=`
            <h3>Initialization Error</h3>
            <p>Failed to initialize the visualization.</p>
            <p>Error: ${C.message}</p>
        `,document.body.appendChild(i)}});
